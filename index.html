<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mining Digital Twin | Phase 2 Monitoring</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&family=JetBrains+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="app"></div>

    <!-- Fixed Top Bar: Branding + Toggles -->
    <div
      id="top-bar"
      style="
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 200;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 20px;
        background: rgba(10, 10, 12, 0.92);
        border-bottom: 1px solid rgba(0, 240, 255, 0.25);
        backdrop-filter: blur(12px);
        pointer-events: auto;
      "
    >
      <!-- Reactore Branding -->
      <div style="display: flex; align-items: baseline; gap: 10px">
        <span
          style="
            font-family: &quot;JetBrains Mono&quot;, monospace;
            font-size: 24px;
            font-weight: 700;
            color: #00f0ff;
            letter-spacing: 3px;
          "
          >REACTORE</span
        >
        <span
          style="
            font-family: &quot;JetBrains Mono&quot;, monospace;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.35);
            letter-spacing: 2px;
          "
          >MINING DIGITAL TWIN</span
        >
      </div>

      <!-- Top-bar Buttons -->
      <div style="display: flex; gap: 10px">
        <button
          onclick="
            document.getElementById('dashboard').classList.toggle('hidden')
          "
          style="
            background: rgba(255, 215, 0, 0.15);
            border: 1px solid #ffd700;
            color: #ffd700;
            padding: 10px 20px;
            cursor: pointer;
            font-family: &quot;JetBrains Mono&quot;, monospace;
            font-size: 13px;
            border-radius: 4px;
            letter-spacing: 1px;
            font-weight: 700;
            transition: background 0.2s;
          "
        >
          ⬛ DASHBOARD
        </button>

        <button
          onclick="
            document.getElementById('guide-panel').classList.toggle('hidden')
          "
          style="
            background: rgba(0, 240, 255, 0.15);
            border: 1px solid #00f0ff;
            color: #00f0ff;
            padding: 10px 20px;
            cursor: pointer;
            font-family: &quot;JetBrains Mono&quot;, monospace;
            font-size: 13px;
            border-radius: 4px;
            letter-spacing: 1px;
            font-weight: 700;
            transition: background 0.2s;
          "
        >
          ? USER GUIDE
        </button>
      </div>
    </div>

    <!-- Dashboard Panel -->
    <div id="dashboard" class="dashboard" style="top: 80px">
      <div class="stats-panel">
        <div class="stat-item">
          <span class="label">EQUIPMENT ACTIVE</span>
          <span class="value" id="count-active">04</span>
        </div>
        <div class="stat-item">
          <span class="label">SYSTEM STATUS</span>
          <span class="value status-ok" id="system-status">NOMINAL</span>
        </div>
      </div>

      <div class="stats-panel telemetry">
        <div class="stat-item">
          <span class="label">SELECTED VECTOR [X,Y,Z]</span>
          <span class="value" id="telemetry-xyz">--</span>
        </div>
        <div class="stat-item">
          <span class="label">VELOCITY</span>
          <span class="value" id="telemetry-v">-- m/s</span>
        </div>
      </div>

      <div class="log-panel" style="max-height: max-content">
        <h3>PROXIMITY MATRIX</h3>
        <div id="proximity-matrix" class="event-log"></div>
      </div>

      <div class="log-panel" style="max-height: 110px">
        <h3>REAL-TIME EVENT LOG</h3>
        <div id="event-log" class="event-log"></div>
      </div>
    </div>

    <!-- User Guide Panel -->
    <div
      id="guide-panel"
      class="hidden"
      style="
        position: fixed;
        top: 80px;
        right: 30px;
        z-index: 150;
        width: 420px;
        pointer-events: auto;
        background: rgba(10, 10, 15, 0.95);
        border: 1px solid rgba(0, 240, 255, 0.3);
        border-radius: 8px;
        padding: 24px;
        backdrop-filter: blur(12px);
        font-family: &quot;JetBrains Mono&quot;, monospace;
        font-size: 14px;
        color: #fff;
      "
    >
      <div
        style="
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 16px;
        "
      >
        <span
          style="
            color: #00f0ff;
            font-weight: 700;
            letter-spacing: 2px;
            font-size: 16px;
          "
          >OPERATIONS MANUAL</span
        >
        <button
          onclick="
            document.getElementById('guide-panel').classList.add('hidden')
          "
          style="
            background: none;
            border: none;
            color: #fff;
            cursor: pointer;
            font-size: 20px;
            opacity: 0.6;
          "
        >
          ✕
        </button>
      </div>

      <div style="display: flex; flex-direction: column; gap: 16px">
        <div>
          <div
            style="
              color: #ffd700;
              margin-bottom: 10px;
              font-size: 13px;
              letter-spacing: 1px;
            "
          >
            MANUAL TRUCK CONTROLS [MAN-01]
          </div>
          <div
            style="
              display: grid;
              grid-template-columns: 48px 1fr;
              gap: 8px 12px;
              opacity: 0.9;
            "
          >
            <span
              style="
                color: #00f0ff;
                background: rgba(0, 240, 255, 0.1);
                border: 1px solid rgba(0, 240, 255, 0.3);
                border-radius: 3px;
                text-align: center;
                padding: 2px;
              "
              >W</span
            ><span>Accelerate Forward</span>
            <span
              style="
                color: #00f0ff;
                background: rgba(0, 240, 255, 0.1);
                border: 1px solid rgba(0, 240, 255, 0.3);
                border-radius: 3px;
                text-align: center;
                padding: 2px;
              "
              >S</span
            ><span>Reverse</span>
            <span
              style="
                color: #00f0ff;
                background: rgba(0, 240, 255, 0.1);
                border: 1px solid rgba(0, 240, 255, 0.3);
                border-radius: 3px;
                text-align: center;
                padding: 2px;
              "
              >A</span
            ><span>Steer Left</span>
            <span
              style="
                color: #00f0ff;
                background: rgba(0, 240, 255, 0.1);
                border: 1px solid rgba(0, 240, 255, 0.3);
                border-radius: 3px;
                text-align: center;
                padding: 2px;
              "
              >D</span
            ><span>Steer Right</span>
          </div>
        </div>

        <div>
          <div
            style="
              color: #ffd700;
              margin-bottom: 10px;
              font-size: 13px;
              letter-spacing: 1px;
            "
          >
            CAMERA CONTROLS
          </div>
          <div
            style="
              display: grid;
              grid-template-columns: 88px 1fr;
              gap: 8px 12px;
              opacity: 0.9;
            "
          >
            <span style="color: #00f0ff">Arrows</span><span>Pan Camera</span>
            <span style="color: #00f0ff">Q / E</span><span>Orbit (Rotate)</span>
            <span style="color: #00f0ff">Scroll</span><span>Zoom In/Out</span>
            <span style="color: #00f0ff">R-Click</span
            ><span>Drag to Rotate</span> <span style="color: #00f0ff">H</span
            ><span>Toggle Heatmap</span>
          </div>
        </div>

        <div>
          <div
            style="
              color: #ffd700;
              margin-bottom: 10px;
              font-size: 13px;
              letter-spacing: 1px;
            "
          >
            STATUS LEGEND
          </div>
          <div style="display: flex; flex-direction: column; gap: 8px">
            <span
              ><span style="color: #00ff00; font-size: 16px">●</span>
              <strong style="color: #00ff00">GREEN</strong> — Normal
              Driving</span
            >
            <span
              ><span style="color: #e5be01; font-size: 16px">●</span>
              <strong style="color: #e5be01">YELLOW</strong> — Caution Zone /
              Proximity</span
            >
            <span
              ><span style="color: #af2b1e; font-size: 16px">●</span>
              <strong style="color: #af2b1e">RED</strong> — Collision
              Warning</span
            >
          </div>
        </div>
      </div>
    </div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
